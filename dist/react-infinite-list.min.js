!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports["react-infinite-list"]=t(require("react"),require("react-dom")):e["react-infinite-list"]=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(){return window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 124dpi), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 48.8dpcm)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3)").matches)||window.devicePixelRatio&&window.devicePixelRatio>1.3}function r(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return!0;return!1}var o=function(e){return e&&e.__esModule?e["default"]:e},s=function y(e,t,i){var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:y(r,t,i)}if("value"in n&&n.writable)return n.value;var o=n.get;if(void 0!==o)return o.call(i)},a=function(){function e(e,t){for(var i in t){var n=t[i];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(e,t)}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c=o(i(1)),h=(o(i(2)),o(i(3))),f=/WebKit/.test(navigator&&navigator.userAgent||""),d=function(e){function t(){p(this,t),null!=e&&e.apply(this,arguments)}return l(t,e),a(t,{render:{value:function(){return c.createElement("div",{key:this.props.id,className:"infinite-list-item item-loading"},"Loading...")}}}),t}(c.Component),m=function(e){function t(){p(this,t),null!=e&&e.apply(this,arguments)}return l(t,e),a(t,{render:{value:function(){return c.createElement("div",{key:this.props.id,className:"infinite-list-item"},this.props.title)}}}),t}(c.Component);m.propTypes={title:c.PropTypes.string.isRequired,id:c.PropTypes.oneOfType([c.PropTypes.number,c.PropTypes.string]).isRequired};var v=function(e){function t(e){p(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this._scrollTimer=null,this.state={renderedStart:0}}return l(t,e),a(t,{onWheel:{value:function(){this._scrolledByWheel=!0}},onScroll:{value:function(e){return e.stopPropagation(),f&&this._scrolledByWheel&&!n()?(this._scrolledByWheel=!1,void(this._scrollTimer||(this._scrollTimer=setTimeout(function(){this._scrollTimer=null,this._calculateVisibleItems()}.bind(this),150)))):void this._calculateVisibleItems()}},_calculateVisibleItems:{value:function(){var e=this.refs.infiniteList.scrollTop,t=Math.floor(e/this.props.itemHeight);t!==this.state.renderedStart&&this.setState({renderedStart:t})}},componentWillReceiveProps:{value:function(e){var t=this.props.items.length!==e.items.length,i=this.props.height!==e.height;(t||i)&&this._calculateVisibleItems()}},_getItemComponent:{value:function(e,t){var i=this.props.listItemClass;this.props.isItemLoading(e)&&(i=this.props.loadingListItemClass);var n=e?e.id:t;return c.createElement(i,u({key:n},e))}},_getClassNames:{value:function(){return h("infinite-list",this.props.className)}},componentDidMount:{value:function(){var e=this;this.state.isInitialRender=!1,setTimeout(function(){e.refs.infiniteList&&(e.refs.infiniteList.scrollTop=e.props.firstVisibleItemIndex*e.props.itemHeight)},0)}},_getVisibleSlice:{value:function(e,t,i){for(var n=[],r=t;i>r;r++)n.push(e[r]);return n}},_prepareVisibleItems:{value:function(e){var t=this.state.renderedStart,i=Math.min(this.props.itemsCount,t+e),n=this._getVisibleSlice(this.props.items,t,i);return this.props.paging&&r(n,this.props.isItemLoading)&&this.props.onRangeChange(t,i),n}},_getContentStyle:{value:function(e){var t=this.props.itemHeight,i=this.props.itemsCount*t,n=e*t,r=Math.max(0,i-n+t),o=this.state.renderedStart*this.props.itemHeight,s=Math.min(r,o);return{height:i-s,paddingTop:s}}},render:{value:function(){var e=Math.ceil(this.props.height/this.props.itemHeight)+1,t=this._prepareVisibleItems(e),i=t.map(this._getItemComponent,this),n=this._getContentStyle(e);return c.createElement("div",{ref:"infiniteList",className:this._getClassNames(),onWheel:this.onWheel.bind(this),onScroll:this.onScroll.bind(this),style:{height:this.props.height}},c.createElement("div",{className:"infinite-list-content",style:n},i))}}}),t}(c.Component);e.exports=v,v.propTypes={items:c.PropTypes.array.isRequired,height:c.PropTypes.number.isRequired,itemHeight:c.PropTypes.number.isRequired,isItemLoading:c.PropTypes.func,listItemClass:c.PropTypes.func,loadingListItemClass:c.PropTypes.func,firstVisibleItemIndex:c.PropTypes.number,paging:c.PropTypes.bool,itemsCount:c.PropTypes.number.isRequired},v.defaultProps={firstVisibleItemIndex:0,isItemLoading:function(){return!1},paging:!1,listItemClass:m,lodingListItemClass:d}},function(t,i){t.exports=e},function(e,i){e.exports=t},function(e,t,i){var n,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(n=[],r=function(){return i}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()}])});